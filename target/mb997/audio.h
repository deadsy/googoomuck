//-----------------------------------------------------------------------------
/*

Audio Control for the STM32F4 Discovery Board

*/
//-----------------------------------------------------------------------------

#ifndef AUDIO_H
#define AUDIO_H

//-----------------------------------------------------------------------------

#include "stm32f4_soc.h"
#include "cs43l22.h"

//-----------------------------------------------------------------------------

#define AUDIO_SAMPLE_RATE 35156U	// Hz

//-----------------------------------------------------------------------------

struct audio_drv {
	struct dma_drv dma;
	struct i2s_drv i2s;
	struct i2c_drv i2c;
	struct cs4x_drv dac;
};

//-----------------------------------------------------------------------------

int audio_init(struct audio_drv *audio);
int audio_start(struct audio_drv *audio);
void audio_wr(struct audio_drv *audio, int16_t x);

//-----------------------------------------------------------------------------

#endif				// AUDIO_H

//-----------------------------------------------------------------------------
